{% extends 'BlogBundle::base.html.twig' %}

{% block content %}
    <div class="inner">
        <div class="border">
            <a href="{{ path('main') }}">
                <div class="button inner-orange">
                    Назад
                </div>
            </a><br>
            <div class="article">
                <div class="title">
                    {{ article.title }}
                </div>
                <div class="head-info">
                    <div class="theme">
                        <a href="{{ path("news_sorted", {category: 'theme', value: article.theme}) }}">
                            #{{ article.theme }}
                        </a>
                    </div>
                    <div class="author">
                        Автор: {{ article.author }}                    
                    </div>                
                </div>
                <div class="date">
                    создано: {{ article.created|date }}
                </div>
                <div class="image">
                    <img src="{{ asset('uploads/images/' ~ article.image.path) }}">
                </div>
               
                <div class="description">
                    {{ article.description }}
                </div>
                {% if article.isUpdated %}
                    <div class="date"> 
                        отредактировано: {{ article.updated|date }}
                    </div>
                {% endif %}
            </div>   
            {% block comment_error %}
            {% endblock %}
            <div class="article-navigation">
                <a href="{{ path("comment_add", {id: article.id}) }}">
                    <div class="button inner-orange button-comment">
                        комментировать
                    </div>
                </a>
                {% if is_granted('ROLE_ADMIN') %}
                    <a href="{{ path('news_edit',{id: article.id}) }}">
                        <div class="button inner-orange">
                            Редактировать &#10000;
                        </div>
                    </a>
                {% endif %}
            </div>
        </div>
    </div>
    {% block comment_form %}        
    {% endblock %}
    {% block comments %}
        {% if article.comments!= null %}
            <div class="inner">
                <div class="border">
                    {% for comment in article.comments %}
                        <div class="article comment">
                            <div class="author">
                                {{ comment.author.username }}
                            </div>
                            <div class="date">
                                время: {{ comment.created|date }}
                            </div>
                            <div class="description">
                                {{ comment.content }}
                            </div>
                        </div>
                        <hr>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
    {% endblock %}
{% endblock %}
